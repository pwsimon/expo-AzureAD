{"version":3,"file":"static/js/main.2031985c.js","mappings":"mMA0Be,SAASA,IAOvB,IAAMC,EAAyB,CAC7BC,KAAM,eACNC,OAAQ,WAEJC,EAAgB,CACpBC,SAAU,uCACVC,OAAQ,CAAC,SAAU,UAAW,QAAS,kBACvCC,aAAcC,EAAAA,aAAaC,QAC3BC,YAAa,CAAEC,MAAO,SAEtBC,aAAaC,EAAAA,EAAAA,iBAAgBZ,IAUzBa,GAAeC,EAAAA,EAAAA,kBAAiB,+EACtCC,EAAAA,WAAgB,WAKXF,GACFG,GACF,GAAG,CAACH,IAEL,IAAAI,GAIKC,EAAAA,EAAAA,gBAAef,EAAeU,GAAaM,GAAAC,EAAAA,EAAAA,SAAAH,EAAA,GAH9CI,EAAOF,EAAA,GACPG,EAAQH,EAAA,GACRI,EAAWJ,EAAA,GAQbJ,EAAAA,WAAgB,WACd,GAAKO,EAEL,GADAE,QAAQC,IAAI,4BAA6BH,EAASI,MAC9C,YAAcJ,EAASI,KAAM,CAChC,IAAMC,EAAMC,EAAAA,cAAcC,gBAAgBP,EAASQ,QAC1CR,EAASQ,OAAOC,aAGzBC,EAAeL,EAAIM,SAClBC,MAAK,SAAAC,GACJC,EAAUC,QAAUF,EACpBG,GAAwB,EACzB,IACAC,OAAM,SAAAC,GAAC,OAAKhB,QAAQC,IAAI,sBAAuBe,EAAE,GACnD,KAAW,UAAYlB,EAASI,MAC/BF,QAAQC,IAAIH,EAEd,GAAG,CAACA,IAMLP,EAAAA,WAAgB,WAKfS,QAAQC,IAAI,aACZgB,EAAAA,iBAAyB,OAAO,SAACD,GAMhChB,QAAQC,IAAI,oBAAqBe,EAAEE,IACpC,GACD,GACA,IAYgBD,EAAAA,SAAhB,IA4BML,EAAYrB,EAAAA,SAClB4B,EAAgC5B,EAAAA,SAAe,CAAC,GAAE6B,GAAAxB,EAAAA,EAAAA,SAAAuB,EAAA,GAA1CE,EAAOD,EAAA,GAAEE,EAAUF,EAAA,GACrBG,EAAmB,uCACnBC,EAAS,eACTC,EAAQ,GAuBRjB,EAAiB,SAACkB,GACvB,IAAIC,EAGJ,OADA3B,QAAQ4B,OAAOF,EAAOG,OAAQ,6BACvBC,MAASP,EAAgB,iCAAiCC,GAC/Dd,MAAK,SAAAZ,GAAQ,OAAIA,EAASiC,MAAM,IAChCrB,MAAK,SAAAsB,GACJL,EAAUK,EAAUC,SACpB,IAAIC,EAAQ,CACXC,OAAQ,OACRC,QAAS,CACR,eAAgB,mBAChBC,cAAe,OAASX,EACxB,SAAUF,EACV,UAAWA,GAEZc,KAAMC,KAAKC,UAAU,CAAEC,UAAW,CAAEC,uBAAwB,OAE7D,OAAOZ,MAASH,EAAO,yCAA0CO,EAClE,IACAxB,MAAK,SAAAZ,GAAQ,OAAIA,EAASiC,MAAM,IAChCrB,MAAK,SAAAiC,GACJrB,EAAWqB,GACX,IAECC,GAFgBjB,EAAU,sCAAwCgB,EAASE,WACnDC,QAAQ,WAAY,UACpBA,QAAQ,UAAW,SAE5C,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC3B,IAAIrC,EAAY,IAAIsC,UAAUN,GAC9BhC,EAAUuC,iBAAiB,QAAQ,SAAAC,GAAK,OAAIJ,EAAQpC,EAAU,GAC/D,GACF,GACH,EAaMyC,EAAiB,WACtB,IAAIC,EAAMC,KAAKC,SAASC,WAAWC,OAAO,EAAG,GAC7C,OAAOC,SAASL,EACjB,EACMM,EAAU,SAACC,EAAYC,EAAMC,EAAaC,GAC/C,IAAMC,EAAS,CACZC,OAAQ,CACPC,SAAUd,IACVe,cAAe,MAAQP,IAG1BQ,EAAO,CACLN,YAAa,oBAAsBA,EAAcA,EAAc,KAC/DC,WAAY,oBAAsBA,EAAaA,EAAa,MAG/DC,EAAOC,OAAOI,SAAWR,EACzBG,EAAOC,OAAOI,SAASC,MAAQ,MAAQV,EAAa,WAEpDpC,EAAMwC,EAAOC,OAAOC,UAAYE,EAChCzD,EAAUC,QAAQ2D,KAAKC,OAAOlC,KAAKC,UAAUyB,GAC9C,EA4DAS,EAA2DnF,EAAAA,UAAe,GAAKoF,GAAA/E,EAAAA,EAAAA,SAAA8E,EAAA,GAAvEE,EAAqBD,EAAA,GAAE7D,EAAuB6D,EAAA,GAChDnF,EAAyB,WAC9BQ,QAAQ4B,OAAOvC,EAAc,2CAjBN,SAACwF,GAIxB,IAAMlG,EAAgB,CACpBC,SAAU,uCACVC,OAAQ,CAAC,SAAU,UAAW,QAAS,kBACvCC,aAAcC,EAAAA,aAAaC,QAC3BC,YAAa,CAAEC,MAAO,SACtB4F,OAAQD,EACR1F,aAAaC,EAAAA,EAAAA,iBAAgBZ,IAG/B,OADW,IAAIuG,EAAAA,YAAYpG,GACXoB,YAAYV,EAC7B,CAIC2F,CAAgBC,EAAAA,OAAOC,MACrBxE,MAAK,SAAAyE,GAEJ,GADAnF,QAAQC,IAAI,0BAA2BkF,EAAkBjF,MACtD,YAAciF,EAAkBjF,KAClC,MAAM,IAAIkF,MAAMD,EAAkBE,MAAMC,SAEzC,IAAMnF,EAAMC,EAAAA,cAAcC,gBAAgB8E,EAAkB7E,QAE5D,OADAN,QAAQC,IAAI,WAAYE,EAAIM,SACrBD,EAAeL,EAAIM,QAC3B,IACAC,MAAK,SAAAC,GACJC,EAAUC,QAAUF,EACpBX,QAAQC,IAAI,mEACZa,GAAwB,EACzB,IACAC,OAAM,SAAAC,GAAC,OAAIhB,QAAQC,IAAI,mCAAoCe,EAAE,GAChE,EA6HA,OACEuE,EAAAA,EAAAA,MAACC,EAAAA,QAAI,CAAAC,SAAA,EACJF,EAAAA,EAAAA,MAACG,EAAAA,QAAI,CAAAD,SAAA,CAAC,QAAMxE,EAAAA,UAAkB,QAC9B0E,EAAAA,EAAAA,KAACC,EAAAA,QAAM,CACNC,UAAWhG,IAAY+E,EACvBkB,MAAM,QACNC,QAAS,SAAC/E,GAvUbjB,IACEW,MAAK,SAAAyE,GACQ/E,EAAAA,cAAcC,gBAAgB8E,EAAkB7E,OAE7D,IACAS,OAAM,SAACC,GAAQhB,QAAQC,IAAI,aAAce,EAAI,GAkUX,KAElC2E,EAAAA,EAAAA,KAACC,EAAAA,QAAM,CACNC,UAAWxG,EACXyG,MAAM,SACNC,QAAS,SAAA/E,GAnUZC,EAAAA,QAAgB5B,EAAa2G,mBAmUD,KAE1BL,EAAAA,EAAAA,KAACC,EAAAA,QAAM,CACNK,SAAU5E,EACVyE,MAAM,YACNC,QAAS,SAAC/E,IA3NO,WAKpB,GAAGkC,UAAUgD,OAAStF,EAAUC,QAAQsF,WAAY,CACnD,IAMMC,EAAsB,CAE1BC,YAAa,CACZC,aAAcjF,EAAQkF,WAAWD,aACjCE,YAAa,GACbC,WAAY,GACZC,SAAU,GACVC,aAAc,EACdC,WAAY,GACZC,gBAAiB,GACjBC,eAAgB,IAGnBlD,EAAQ,qBAAsBwC,EAC/B,CACD,CAgMsBW,EAAe,KAElCpB,EAAAA,EAAAA,KAACC,EAAAA,QAAM,CACNK,SAAU5E,EACVyE,MAAM,SACNC,QAAS,SAAC/E,IApMS,WACtB,IAAMoF,EAAsB,CAE1BC,YAAa,CACZC,aAAcjF,EAAQkF,WAAWD,aACjCE,YAAa,GACbC,WAAY,GACZC,SAAU,GACVC,aAAc,EACdC,WAAY,GACZC,gBAAiB,GACjBC,eAAgB,IAGnBlD,EAAQ,qBAAsBwC,EAC/B,CAqLsBY,EAAiB,KAEpCrB,EAAAA,EAAAA,KAACsB,EAAAA,QAAS,MAGd,CAncAC,EAAAA,2BAqceC,EAAAA,QAAWC,OAAO,CAC/BC,UAAW,CACTC,KAAM,EACNC,gBAAiB,OACjBC,WAAY,SACZC,eAAgB,W,eCjehBC,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAaE,QAGrB,IAAIC,EAASN,EAAyBE,GAAY,CACjDK,GAAIL,EACJM,QAAQ,EACRH,QAAS,CAAC,GAUX,OANAI,EAAoBP,GAAUQ,KAAKJ,EAAOD,QAASC,EAAQA,EAAOD,QAASJ,GAG3EK,EAAOE,QAAS,EAGTF,EAAOD,OACf,CAGAJ,EAAoBU,EAAIF,E,MC5BxB,IAAIG,EAAW,GACfX,EAAoBY,EAAI,CAACC,EAAQC,EAAUC,EAAIC,KAC9C,IAAGF,EAAH,CAMA,IAAIG,EAAeC,IACnB,IAASC,EAAI,EAAGA,EAAIR,EAASzG,OAAQiH,IAAK,CAGzC,IAFA,IAAKL,EAAUC,EAAIC,GAAYL,EAASQ,GACpCC,GAAY,EACPC,EAAI,EAAGA,EAAIP,EAAS5G,OAAQmH,MACpB,EAAXL,GAAsBC,GAAgBD,IAAaM,OAAOC,KAAKvB,EAAoBY,GAAGY,OAAOC,GAASzB,EAAoBY,EAAEa,GAAKX,EAASO,MAC9IP,EAASY,OAAOL,IAAK,IAErBD,GAAY,EACTJ,EAAWC,IAAcA,EAAeD,IAG7C,GAAGI,EAAW,CACbT,EAASe,OAAOP,IAAK,GACrB,IAAIQ,EAAIZ,SACEZ,IAANwB,IAAiBd,EAASc,EAC/B,CACD,CACA,OAAOd,CAnBP,CAJCG,EAAWA,GAAY,EACvB,IAAI,IAAIG,EAAIR,EAASzG,OAAQiH,EAAI,GAAKR,EAASQ,EAAI,GAAG,GAAKH,EAAUG,IAAKR,EAASQ,GAAKR,EAASQ,EAAI,GACrGR,EAASQ,GAAK,CAACL,EAAUC,EAAIC,EAqBjB,C,KCzBdhB,EAAoB4B,EAAKvB,IACxB,IAAIwB,EAASxB,GAAUA,EAAOyB,WAC7B,IAAOzB,EAAiB,QACxB,IAAM,EAEP,OADAL,EAAoB+B,EAAEF,EAAQ,CAAEG,EAAGH,IAC5BA,CAAM,ECLd7B,EAAoB+B,EAAI,CAAC3B,EAAS6B,KACjC,IAAI,IAAIR,KAAOQ,EACXjC,EAAoBkC,EAAED,EAAYR,KAASzB,EAAoBkC,EAAE9B,EAASqB,IAC5EH,OAAOa,eAAe/B,EAASqB,EAAK,CAAEW,YAAY,EAAMC,IAAKJ,EAAWR,IAE1E,ECNDzB,EAAoBsC,EAAI,WACvB,GAA0B,kBAAfC,WAAyB,OAAOA,WAC3C,IACC,OAAOC,MAAQ,IAAIC,SAAS,cAAb,EAChB,CAAE,MAAOpJ,GACR,GAAsB,kBAAXyD,OAAqB,OAAOA,MACxC,CACA,CAPuB,GCAxBkD,EAAoBkC,EAAI,CAACQ,EAAKC,IAAUrB,OAAOsB,UAAUC,eAAepC,KAAKiC,EAAKC,GCClF3C,EAAoB2B,EAAKvB,IACH,qBAAX0C,QAA0BA,OAAOC,aAC1CzB,OAAOa,eAAe/B,EAAS0C,OAAOC,YAAa,CAAEC,MAAO,WAE7D1B,OAAOa,eAAe/B,EAAS,aAAc,CAAE4C,OAAO,GAAO,ECL9DhD,EAAoBiD,IAAO5C,IAC1BA,EAAO6C,MAAQ,GACV7C,EAAOvC,WAAUuC,EAAOvC,SAAW,IACjCuC,G,MCER,IAAI8C,EAAkB,CACrB,IAAK,GAaNnD,EAAoBY,EAAES,EAAK+B,GAA0C,IAA7BD,EAAgBC,GAGxD,IAAIC,EAAuB,CAACC,EAA4BC,KACvD,IAGItD,EAAUmD,GAHTtC,EAAU0C,EAAaC,GAAWF,EAGhBpC,EAAI,EAC3B,GAAGL,EAAS4C,MAAMpD,GAAgC,IAAxB6C,EAAgB7C,KAAa,CACtD,IAAIL,KAAYuD,EACZxD,EAAoBkC,EAAEsB,EAAavD,KACrCD,EAAoBU,EAAET,GAAYuD,EAAYvD,IAGhD,GAAGwD,EAAS,IAAI5C,EAAS4C,EAAQzD,EAClC,CAEA,IADGsD,GAA4BA,EAA2BC,GACrDpC,EAAIL,EAAS5G,OAAQiH,IACzBiC,EAAUtC,EAASK,GAChBnB,EAAoBkC,EAAEiB,EAAiBC,IAAYD,EAAgBC,IACrED,EAAgBC,GAAS,KAE1BD,EAAgBC,GAAW,EAE5B,OAAOpD,EAAoBY,EAAEC,EAAO,EAGjC8C,EAAqBC,KAAsB,gBAAIA,KAAsB,iBAAK,GAC9ED,EAAmBE,QAAQR,EAAqBS,KAAK,KAAM,IAC3DH,EAAmBI,KAAOV,EAAqBS,KAAK,KAAMH,EAAmBI,KAAKD,KAAKH,G,KC7CvF,IAAIK,EAAsBhE,EAAoBY,OAAET,EAAW,CAAC,MAAM,IAAOH,EAAoB,QAC7FgE,EAAsBhE,EAAoBY,EAAEoD,E","sources":["App.js","webpack/bootstrap","webpack/runtime/chunk loaded","webpack/runtime/compat get default export","webpack/runtime/define property getters","webpack/runtime/global","webpack/runtime/hasOwnProperty shorthand","webpack/runtime/make namespace object","webpack/runtime/node module decorator","webpack/runtime/jsonp chunk loading","webpack/startup"],"sourcesContent":["import * as React from 'react';\r\nimport * as WebBrowser from 'expo-web-browser'; // [Expo WebBrowser](https://docs.expo.dev/versions/latest/sdk/webbrowser/)\r\nimport * as Linking from 'expo-linking';\r\nimport {\r\n\t\tuseAuthRequest, // [Hooks](https://docs.expo.dev/versions/latest/sdk/auth-session/#hooks)\r\n\t\tuseAutoDiscovery,\r\n\t\tmakeRedirectUri, // (static) [Methods](https://docs.expo.dev/versions/latest/sdk/auth-session/#methods)\r\n\t\texchangeCodeAsync,\r\n\t\tstartAsync,\r\n\t\tTokenResponse, // [Classes](https://docs.expo.dev/versions/latest/sdk/auth-session/#classes)\r\n\t\tAuthRequest,\r\n\t\tResponseType, // [Types](https://docs.expo.dev/versions/latest/sdk/auth-session/#types)\r\n\t\tPrompt\r\n\t} from 'expo-auth-session'; // [Expo AuthSession](https://docs.expo.dev/versions/latest/sdk/auth-session/)\r\nimport {\r\n\tPlatform,\r\n\tStyleSheet,\r\n\tStatusBar,\r\n\tView,\r\n\tText,\r\n\tButton } from 'react-native';\r\n\r\n// das funktioniert nur ...\r\n// The method should be invoked on the page that the window redirects to.\r\nWebBrowser.maybeCompleteAuthSession();\r\n\r\nexport default function App() {\r\n\t/*\r\n\t* (AuthSession.makeRedirectUri)[https://docs.expo.dev/versions/latest/sdk/auth-session/#authsessionmakeredirecturioptions]\r\n\t* wir brauchen je nach start-modus (Development, Productive) mehrere RedirectUri's im AzurePortal\r\n\t* Development: http://localhost:19006/expo-AzureAD\r\n\t* Productive: https://pwsimon.github.io/expo-AzureAD\r\n\t*/\r\n\tconst makeRedirectUriOptions = {\r\n\t\t\tpath: 'expo-AzureAD', // der RedirectUri im AzurePortal: https://pwsimon.github.io/expo-AzureAD\r\n\t\t\tscheme: 'azuread' // https://docs.expo.dev/versions/latest/config/app/#scheme\r\n\t\t};\r\n\tconst requestConfig = { // interface [AuthRequestConfig](https://docs.expo.dev/versions/latest/sdk/auth-session/#authrequestconfig)\r\n\t\t\tclientId: 'a26fba9c-c752-4af1-8be4-ba80d2a4d36e',\r\n\t\t\tscopes: ['openid', 'profile', 'email', 'offline_access'],\r\n\t\t\tresponseType: ResponseType.IdToken, // https://docs.expo.dev/versions/latest/sdk/auth-session/#idtoken\r\n\t\t\textraParams: { nonce: \"nonce\" }, // https://www.typescriptlang.org/docs/handbook/utility-types.html#recordkeys-type\r\n\t\t\t// prompt: Prompt.None, // login check\r\n\t\t\tredirectUri: makeRedirectUri(makeRedirectUriOptions)\r\n\t\t}\r\n\r\n\t/*\r\n\t* wir brauchen das: discoveryDoc an drei stellen.\r\n\t* 1.) fuer das: authenticate/promptAsync() Prompt.Login\r\n\t* 2.) fuer das: authenticate/getIdTokenAsync() Prompt.None\r\n\t* 3.) fuer das: logoff()\r\n\t* interface [DiscoveryDocument](https://docs.expo.dev/versions/latest/sdk/auth-session/#discoverydocument)\r\n\t*/\r\n\tconst discoveryDoc = useAutoDiscovery('https://login.microsoftonline.com/a0225615-7f89-4786-a96e-2bd64c8db5c7/v2.0'); // Endpoint\r\n\tReact.useEffect(() => {\r\n/*\r\n* getriggert wird das fetch durch den: useAutoDiscovery Hook\r\n* console.log(\"discoveryDoc changed\");\r\n*/\r\n\t\t\tif(discoveryDoc)\r\n\t\t\t\tcheckNoUserInteraction();\r\n\t\t}, [discoveryDoc]);\r\n\r\n\tconst [\r\n\t\t\trequest, // [Class AuthRequest](https://docs.expo.dev/versions/latest/sdk/auth-session/#authrequest)\r\n\t\t\tresponse, // [Type AuthSessionResult](https://docs.expo.dev/versions/latest/sdk/auth-session/#authsessionresult)\r\n\t\t\tpromptAsync\r\n\t\t] = useAuthRequest(requestConfig, discoveryDoc);\r\n\r\n\t/*\r\n\t* typischerweise erkennen wir das resolve/reject der Async Function: promptAsync()\r\n\t* durch ein: useEffect(, [response])\r\n\t* siehe auch: promptAsync.then()\r\n\t*/\r\n\tReact.useEffect(() => {\r\n\t\t\tif (!response) return;\r\n\t\t\tconsole.log(\"response changed => type:\", response.type);\r\n\t\t\tif ('success' === response.type) {\r\n\t\t\t\tconst oTR = TokenResponse.fromQueryParams(response.params),\r\n\t\t\t\t\ttoken = response.params.access_token;\r\n\r\n\t\t\t\t// iNetTokenVerify(oTR.idToken);\r\n\t\t\t\tiNetLoginAsync(oTR.idToken)\r\n\t\t\t\t.then(oWebSocket => {\r\n\t\t\t\t\t\twebSocket.current = oWebSocket;\r\n\t\t\t\t\t\tSetNeedsUserInteraction(false);\r\n\t\t\t\t\t})\r\n\t\t\t\t.catch(e =>  console.log(\"iNetLogin() failed:\", e));\r\n\t\t\t} else if ('error' === response.type) {\r\n\t\t\t\tconsole.log(response);\r\n\t\t\t}\r\n\t\t}, [response]);\r\n\r\n\t/*\r\n\t* das ist die \"kleine\" version von ReactRouter (Navigate)\r\n\t* wir fangen und behandeln mit dem \"addEventListener(\"url\", ...\") die Navigation\r\n\t*/\r\n\tReact.useEffect(() => {\r\n/*\r\n* [Linking.addEventListener(type, handler)](https://docs.expo.dev/versions/latest/sdk/linking/#linkingaddeventlistenertype-handler)\r\n* [EventType](https://docs.expo.dev/versions/latest/sdk/linking/#eventtype)\r\n*/\r\n\t\tconsole.log(\"App mount\");\r\n\t\tLinking.addEventListener(\"url\", (e) => {\r\n/*\r\n* typisch an dieser stelle ein: xxx://yyy/authRedirect\r\n* z.B. http://localhost:19006/authRedirect?id_token=hurts\r\n* z.B. exp://10.20.4.63:19000/--/authRedirect?id_token=hurts\r\n*/\r\n\t\t\tconsole.log(\"capture navigate:\", e.url);\r\n\t\t});\r\n\t},\r\n\t[]); // https://react.dev/reference/react/useEffect#examples-dependencies\r\n\r\n\t/*\r\n\t* [useURL](https://docs.expo.dev/versions/latest/sdk/linking/#useurl)\r\n\t* [Handling links](https://docs.expo.dev/guides/linking/#handling-links)\r\n\t*\r\n\t* [uri-scheme](https://github.com/expo/expo-cli)\r\n\t* Expo Go in Development (adjust the '127.0.0.1:19000' to match your dev server URL)\r\n\t*\r\n\t*     npx uri-scheme open exp://192.168.178.41:19000/--/somepath/into/app?hello=world --ios // pshome\r\n\t*     npx uri-scheme list\r\n\t*/\r\n\tconst baseUrl =\tLinking.useURL(); \r\n\r\n\tconst authenticate = () => {\r\n\t\tconst promptOptions = null; // [AuthRequestPromptOptions](https://docs.expo.dev/versions/latest/sdk/auth-session/#authrequestpromptoptions)\r\n\t\tpromptAsync(/*discoveryDoc, promptOptions*/)\r\n\t\t\t.then(authSessionResult => { // [Type AuthSessionResult](https://docs.expo.dev/versions/latest/sdk/auth-session/#authsessionresult)\r\n\t\t\t\t\tconst oTR = TokenResponse.fromQueryParams(authSessionResult.params);\r\n\t\t\t\t\t// console.log(\"fullfilled => type:\", authSessionResult.type);\r\n\t\t\t\t})\r\n\t\t\t.catch((e) => { console.log(\"exception:\", e); });\r\n\t}\r\n\tconst logoff = () => {\r\n\t\t// console.log(\"logoff()\", discoveryDoc.endSessionEndpoint);\r\n\t\tLinking.openURL(discoveryDoc.endSessionEndpoint);\r\n\t}\r\n/*\r\n* using UCConnect needs: UCSID/Tenant (Mandant)\r\n* folgende constellation:\r\n* UCServer: \\\\ws0021\\dev\\procall_master (feature/PROCALL-3267-verifyJWT),\r\n* [UCConnect Environment's](https://wiki.estos.de/display/DEV/Development+und+Staging+System)\r\n* prod: \"ws0021.local(riroyabihi)\", https://portal.ucconnect.de,    https://uccontroller.ucconnect.de\r\n* dev:  \"ws0021.local(holamobequ)\", https://devportal.ucconnect.de, https://devuccontroller.ucconnect.de\r\n*   das: (dev) UCConnect ist eher zweite wahl (nicht stabil)\r\n* AppServer: expo Development-Server, GitHub Pages\r\n* Achtung!\r\n* ein Login/CreateSession ist vermutlich einfacher denn:\r\n* wg. verschaerfter CORS regeln im UCConnect darf ich keine header x-sessionid mehr schicken ...\r\n*/\r\n\tconst webSocket = React.useRef();\r\n\tconst [ session, SetSession ] = React.useState({});\r\n\tconst sUCControllerUrl = \"https://devuccontroller.ucconnect.de\";\r\n\tconst sUCSID = \"ws0021.local\";\r\n\tconst mapRR = [];\r\n\tconst iNetTokenVerify = (sToken) => {\r\n\t\tfetch(`${sUCControllerUrl}/controller/client/ucws?ucsid=${sUCSID}`)\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(oDiscover => {\r\n\t\t\t\tconst oArgument = {\r\n\t\t\t\t\t\t\t_type: \"AsnTokenVerifyArgument\",\r\n\t\t\t\t\t\t\tsToken: sToken\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\toInit = {\r\n\t\t\t\t\t\t\tmethod: \"POST\",\r\n\t\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\t\t\t\t\"x-ucsid\": sUCSID\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tbody: JSON.stringify(oArgument)\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\treturn fetch(`${oDiscover.redirect}/ws/direct/asnTokenVerify`, oInit)\r\n\t\t\t\t})\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(oTokenVerifyResult => console.log(oTokenVerifyResult) )\r\n\t\t\t.catch(e =>  console.log(\"iNetTokenVerify() failed:\", e));\r\n\t}\r\n\tconst iNetLoginAsync = (sToken) => {\r\n\t\tvar sOrigin;\r\n\r\n\t\tconsole.assert(sToken.length, \"missing parameter: sToken\");\r\n\t\treturn fetch(`${sUCControllerUrl}/controller/client/ucws?ucsid=${sUCSID}`)\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(oDiscover => {\r\n\t\t\t\t\tsOrigin = oDiscover.redirect;\r\n\t\t\t\t\tlet oInit = {\r\n\t\t\t\t\t\tmethod: \"POST\",\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\t\t\tAuthorization: \"JWT \" + sToken,\r\n\t\t\t\t\t\t\t\"X-EPID\": sUCSID,\r\n\t\t\t\t\t\t\t\"X-UCSID\": sUCSID\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tbody: JSON.stringify({ negotiate: { iClientProtocolVersion: 70 } }) // 61\r\n\t\t\t\t\t};\r\n\t\t\t\t\treturn fetch(`${sOrigin}/ws/client/createsession?clientappid=9`, oInit)\r\n\t\t\t\t})\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(oSession => {\r\n\t\t\t\t\tSetSession(oSession);\r\n\t\t\t\t\tlet sWSOrigin1 = sOrigin + \"/ws/client/websocket?x-ucsessionid=\" + oSession.sessionid,\r\n\t\t\t\t\t\tsWSOrigin2 = sWSOrigin1.replace(\"https://\", \"wss://\"),\r\n\t\t\t\t\t\tsWSOrigin3 = sWSOrigin2.replace(\"http://\", \"ws://\");\r\n\r\n\t\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\t\t\tlet webSocket = new WebSocket(sWSOrigin3);\r\n\t\t\t\t\t\t\twebSocket.addEventListener(\"open\", event => resolve(webSocket));\r\n\t\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t}\r\n\tconst iNetLogin = (sToken) => {\r\n\t\tiNetLoginAsync(sToken)\r\n\t\t\t.then(oWebSocket => {\r\n\t\t\t\t\twebSocket.current = oWebSocket;\r\n\t\t\t\t\tconst oArgument = {\r\n\t\t\t\t\t\t\t// _type: \"AsnTokenVerifyArgument\", // generated from: sOperation by wssSend\r\n\t\t\t\t\t\t\tsToken: sToken\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\twssSend(\"TokenVerify\", oArgument);\r\n\t\t\t\t})\r\n\t\t\t.catch(e =>  console.log(\"iNetLogin() failed:\", e));\r\n\t}\r\n\tconst createInvokeID = () => {\r\n\t\tvar sId = Math.random().toString().substr(2, 9);\r\n\t\treturn parseInt(sId);\r\n\t}\r\n\tconst wssSend = (sOperation, oArg, fnFulfilled, fnRejected) => {\r\n\t\tconst oFrame = {\r\n\t\t\t\t\tinvoke: {\r\n\t\t\t\t\t\tinvokeID: createInvokeID(), // das ist die \"InvokeID\" um die antwort/response einem request zuzuordnen\r\n\t\t\t\t\t\toperationName: \"asn\" + sOperation\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\toCBs = {\r\n\t\t\t\t\tfnFulfilled: \"function\" === typeof fnFulfilled ? fnFulfilled : null,\r\n\t\t\t\t\tfnRejected: \"function\" === typeof fnRejected ? fnRejected : null\r\n\t\t\t\t};\r\n\t\r\n\t\toFrame.invoke.argument = oArg;\r\n\t\toFrame.invoke.argument._type = 'Asn' + sOperation + 'Argument';\r\n\t\r\n\t\tmapRR[oFrame.invoke.invokeID] = oCBs;\r\n\t\twebSocket.current.send(window.JSON.stringify(oFrame));\r\n\t}\r\n\tconst setNotAbsent = () => {\r\n\t\t// authenticate\r\n\t\t// login\r\n\t\t// enterLoop\r\n\t\t// setPresence\r\n\t\tif(WebSocket.OPEN === webSocket.current.readyState) {\r\n\t\t\tconst oUpdateMyAbsentState = {\r\n\t\t\t\t\t// _type: \"AsnUpdateMyAbsentStateArgument\", // generated from: sOperation by wssSend\r\n\t\t\t\t\tabsentstate: {\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t// wssSend(\"UpdateMyAbsentState\", oUpdateMyAbsentState);\r\n\t\t\tconst oAbsentStateSetUser = {\r\n\t\t\t\t\t// _type: \"AsnAbsentStateSetUserArgument\", // generated from: sOperation by wssSend\r\n\t\t\t\t\tabsentstate: {\r\n\t\t\t\t\t\tu8sContactId: session.ownContact.u8sContactId, // \"sip:psi@ws0021.local\"\r\n\t\t\t\t\t\tu8sUsername: \"\",\r\n\t\t\t\t\t\tstTimeFrom: \"\",\r\n\t\t\t\t\t\tstTimeTo: \"\",\r\n\t\t\t\t\t\tiAbsentState: 0, // eABSENTSTATENOTABSENT(0), Available\r\n\t\t\t\t\t\tu8sMessage: \"\", // Deprecated, should be empty.\r\n\t\t\t\t\t\tu8sAbsentReason: \"\", // Deprecated, should be empty.\r\n\t\t\t\t\t\tiPresenceState: 0 // ignored by the server\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\twssSend(\"AbsentStateSetUser\", oAbsentStateSetUser);\r\n\t\t}\r\n\t}\r\n\tconst setOutOfOffice = () => {\r\n\t\tconst oAbsentStateSetUser = {\r\n\t\t\t\t// _type: \"AsnAbsentStateSetUserArgument\", // generated from: sOperation by wssSend\r\n\t\t\t\tabsentstate: {\r\n\t\t\t\t\tu8sContactId: session.ownContact.u8sContactId, // \"sip:psi@ws0021.local\"\r\n\t\t\t\t\tu8sUsername: \"\",\r\n\t\t\t\t\tstTimeFrom: \"\",\r\n\t\t\t\t\tstTimeTo: \"\",\r\n\t\t\t\t\tiAbsentState: 1, // eABSENTSTATEOUTOFOFFICE(1), Out of office\r\n\t\t\t\t\tu8sMessage: \"\", // Deprecated, should be empty.\r\n\t\t\t\t\tu8sAbsentReason: \"\", // Deprecated, should be empty.\r\n\t\t\t\t\tiPresenceState: 0 // ignored by the server\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\twssSend(\"AbsentStateSetUser\", oAbsentStateSetUser);\r\n\t}\r\n\tconst getIdTokenAsync = (ePrompt) => {\r\n/*\r\n* try login with: Prompt.None to check userinteraction is required\r\n*/\r\n\t\tconst requestConfig = { // interface [AuthRequestConfig](https://docs.expo.dev/versions/latest/sdk/auth-session/#authrequestconfig)\r\n\t\t\t\tclientId: 'a26fba9c-c752-4af1-8be4-ba80d2a4d36e',\r\n\t\t\t\tscopes: ['openid', 'profile', 'email', 'offline_access'],\r\n\t\t\t\tresponseType: ResponseType.IdToken, // https://docs.expo.dev/versions/latest/sdk/auth-session/#idtoken\r\n\t\t\t\textraParams: { nonce: \"nonce\" }, // https://www.typescriptlang.org/docs/handbook/utility-types.html#recordkeys-type\r\n\t\t\t\tprompt: ePrompt,\r\n\t\t\t\tredirectUri: makeRedirectUri(makeRedirectUriOptions)\r\n\t\t\t},\r\n\t\t_request = new AuthRequest(requestConfig);\r\n\t\treturn _request.promptAsync(discoveryDoc);\r\n\t}\r\n\tconst [ bNeedsUserInteraction, SetNeedsUserInteraction ] = React.useState(true);\r\n\tconst checkNoUserInteraction = () => {\r\n\t\tconsole.assert(discoveryDoc, \"invalid state/environment: discoveryDoc\");\r\n\t\tgetIdTokenAsync(Prompt.None)\r\n\t\t\t.then(authSessionResult => {\r\n\t\t\t\t\tconsole.log(\"AuthSessionResult.type:\", authSessionResult.type); // [AuthRequest.type](https://docs.expo.dev/versions/latest/sdk/auth-session/#authsessionresult)\r\n\t\t\t\t\tif(\"success\" !== authSessionResult.type)\r\n\t\t\t\t\t\tthrow new Error(authSessionResult.error.message); // \"requires interaction\"\r\n\r\n\t\t\t\t\tconst oTR = TokenResponse.fromQueryParams(authSessionResult.params);\r\n\t\t\t\t\tconsole.log(\"idToken:\", oTR.idToken);\r\n\t\t\t\t\treturn iNetLoginAsync(oTR.idToken);\r\n\t\t\t\t})\r\n\t\t\t.then(oWebSocket => {\r\n\t\t\t\t\twebSocket.current = oWebSocket;\r\n\t\t\t\t\tconsole.log(\"LoggedIn! (authenticated, connected and WebSocket establish'ed)\")\r\n\t\t\t\t\tSetNeedsUserInteraction(false);\r\n\t\t\t\t})\r\n\t\t\t.catch(e => console.log(\"checkNoUserInteraction() failed:\", e));\r\n\t}\r\n\tconst exchangeCode = () => {\r\n\t\tconst config = { // interface [AccessTokenRequestConfig](https://docs.expo.dev/versions/latest/sdk/auth-session/#accesstokenrequestconfig)\r\n\t\t\t\tcode: response.params.code,\r\n\t\t\t\tredirectUri: makeRedirectUri({ scheme: 'azuread'})\r\n\t\t\t};\r\n\t\texchangeCodeAsync(config, discoveryDoc)\r\n\t\t\t.then(data => console.log(data));\r\n\t}\r\n\tconst _createURL = () => {\r\n/*\r\n* [Expo Linking](https://docs.expo.dev/versions/latest/sdk/linking/)\r\n* ich kann aus meiner \"Anwendung\" heraus zu einer anderen Site Navigieren ...\r\n* wobei es egal ist ob ich in einem Browser, Expo Go, ... gehosted bin.\r\n* [Examples](https://docs.expo.dev/versions/latest/sdk/linking/#examples)\r\n* liefert einen, zum Environment/Host, passenden Url ...\r\n*/\r\n\t\tconsole.log(\"createURL() =>\", Linking.createURL(\"deepLink\")); // create a link into YOUR App\r\n\t\tconsole.log(\"baseUrl:\", baseUrl); // nur der vollstaendigkeit halber (wird nicht verwendet)\r\n\t\tconsole.log(\"Platform.OS:\", Platform.OS); // nur der vollstaendigkeit halber (wird nicht verwendet)\r\n\t\tLinking.getInitialURL()\r\n\t\t\t.then(sInitialURL => console.log(\"getInitialURL() =>\", sInitialURL)); // where we come from\r\n\r\n\t\tif(\"web\" === Platform.OS) {\r\n\t\t\tconsole.assert(baseUrl); // haben wir IMMER im fall: \"web\" === Platform.OS\r\n/*\r\n* UseCase: the App is executed from within: Expo Go App `npx expo start` using: ${baseUrl}\r\n* Web (dev): https://localhost:19006/deepLink\r\n* Web (prod): https://myapp.com/deepLink\r\n*\r\n* wenn wir eine SPA sind, also im Browser/Web, ist der returnUrl fuer ein einfaches: \"navigate-back\" ueberfluessig.\r\n* in allen anderen faellen koennen wir damit den workflow steuern.\r\n*/\r\n\t\t\t// Linking.openURL(`https://auth.expo.io/@pwsimon/expo-azuread/start?authUrl=http://ws0021.estos.de/etapisrvsdk/solution/sso/redirect&returnUrl=http://localhost:19006/authRedirect?id_token=hurts`);\r\n\t\t\t// Linking.openURL(`http://ws0021.estos.de/etapisrvsdk/solution/sso/redirect`); // configure IIS reidrect: ${baseUrl}\r\n\t\t\t// Linking.openURL(`http://ws0021.estos.de/etapisrvsdk/solution/sso/expo-linking.html?returnUrl=${baseUrl}`);\r\n\t\t\t// Linking.openURL('https://expo.dev');\r\n\t\t} else {\r\n/*\r\n* UseCase: the App is executed from within: (custom build) Expo Go App `npx expo start --dev-client`\r\n* Bare: <scheme>://path - uses provided scheme or scheme from Expo config scheme.\r\n* Standalone, Custom: yourscheme://deepLink\r\n* Expo Client (dev): exp://128.0.0.1:19000/--/deepLink // [Creating URLs](https://docs.expo.dev/guides/linking/#creating-urls)\r\n* Expo Client (prod): exp://u.expo.dev/[project-id]?channel-name=[channel-name]&runtime-version=[runtime-version]\r\n*/\r\n\t\t\t// Linking.openURL(`http://ws0021.estos.de/etapisrvsdk/solution/sso/expo-linking.html?returnUrl=${baseUrl}`);\r\n\t\t\t// Linking.openURL('https://expo.dev'); // switch to installed Browser\r\n\t\t\t// Linking.openSettings(); // the SettingsPage from Expo Go App appear\r\n\t\t}\r\n\t}\r\n\tconst _makeRedirectUri = () => {\r\n/*\r\n* type [AuthSessionRedirectUriOptions](https://docs.expo.dev/versions/latest/sdk/auth-session/#authsessionredirecturioptions)\r\n* \"https://auth.expo.io/@your-username/your-app-slug/start\"\r\n* eg. https://auth.expo.io/@pwsimon/expo-azuread/start?authUrl=http://ws0021.estos.de/etapisrvsdk/solution/sso/redirect&returnUrl=http://localhost:19006/authRedirect?id_token=hurts\r\nredirectUri = \"\" // [Using auth.expo.io proxy?](https://github.com/expo/fyi/blob/main/auth-proxy-migration.md#using-authexpoio-proxy)\r\n*/\r\n\t\tconst expoAuthProxyOptions = {\r\n\t\t\t\t\tprojectNameForProxy: \"@pwsimon/expo-azuread/start\",\r\n\t\t\t\t\tuseProxy: true\r\n\t\t\t\t},\r\n\t\t\toptions = {\r\n\t\t\t\t\tpath: 'expo-AzureAD',\r\n\t\t\t\t\tscheme: 'azuread'\r\n\t\t\t\t},\r\n \t\t\t// (AuthSession.makeRedirectUri)[https://docs.expo.dev/versions/latest/sdk/auth-session/#authsessionmakeredirecturioptions]\r\n\t\t\tredirectUri = makeRedirectUri(options); // expoAuthProxyOptions | options | ...\r\n/*\r\n* die [Expo AuthSession](https://docs.expo.dev/versions/latest/sdk/auth-session/) generiert fuer fuer jeden\r\n* UseCase/Context: einen speziellen RedirectUri\r\n* Development Build: azuread:///\r\n* Expo Go: exp://localhost:19000\r\n* Web dev: https://localhost:19006\r\n* Web prod: https://yourwebsite.com\r\n*/\r\n\t\tconsole.log(\"makeRedirectUri() =>\", redirectUri);\r\n\t}\r\n\tconst customAuthProxy = () => {\r\n/*\r\n* Das ist die variante/versuch mit dem selfHosted AuthProxy.\r\n* Der fuer die App (msal-react-spa) konfigurierte: Umleitungs-URI zeigt auf *meinen* AuthProxy.\r\n* Azure App-Registrierungen erlauben mehrere Umleitungs-URI. So koennen wir beide statisch angeben.\r\n* welcher davon letztlich/tatsaechlich verwendet wir ergibt sich aus den QueryParametern zum IdProvider\r\n* local development: \"http://localhost:1310/\"\r\n* internet: \"https://authproxy.azurewebsites.net/\"\r\n*/\r\n\t\tconst authServiceUrl = encodeURIComponent(\"https://login.microsoftonline.com/a0225615-7f89-4786-a96e-2bd64c8db5c7/oauth2/v2.0/authorize\"); // we encode this, because it will be send as a query parameter\r\n\t\tconst authServiceUrlParameter = `authServiceUrl=${authServiceUrl}`;\r\n\t\tconst authUrl = `http://localhost:1310?${authServiceUrlParameter}`;\r\n\t\tconst options = {\r\n\t\t\t\tauthUrl,\r\n\t\t\t\treturnUrl: \"azuread://authProxy\" // YOUR_DEEP_LINK\r\n\t\t\t}; // [AuthSession.startAsync(options)](https://docs.expo.dev/versions/latest/sdk/auth-session/#authsessionstartasyncoptions)\r\n\t\tstartAsync(options)\r\n\t\t\t.then(authSessionResult => { // [Type AuthSessionResult](https://docs.expo.dev/versions/latest/sdk/auth-session/#authsessionresult)\r\n\t\t\t\t\tconsole.log(\"returned: (type)\", authSessionResult.type);\r\n\t\t\t\t});\r\n\t}\r\n\tconst expoAuthProxy = () => {\r\n/*\r\n* Das ist die variante/versuch mit dem Expo AuthProxy\r\n* eine loesung mittels: Proxy wirft die folgenden Fragen auf:\r\n* 1.) der Expo AuthProxy bzw. eine 'Proxy' loesung ist genrell 'deprecated'\r\n* 2.) der Expo AuthProxy kommt immer mit einer 'unangenehmen' sicherheits-warnung\r\n* In verbindung mit dem AzureAD gibt es da ein spezielles problem.\r\n* Ich das vom Expo AuthProxy geforderte '@' nicht verwenden ...\r\n* scheitert das an den [Einschraenkungen für Umleitungs-URI/Antwort-URL](https://learn.microsoft.com/de-de/azure/active-directory/develop/reply-url)\r\n*\r\n* loesungs-ansatz(e)\r\n* 1.) selbst gehosteter [AuthProxy](https://docs.expo.dev/versions/latest/sdk/auth-session/#proxy-service)\r\n* 2.) [Expo AuthProxy](https://auth.expo.io) und einen IdProvider ohne Einschraenkung beim Umleitungs-URI\r\n*     *keine* wirkliche option denn das feature wird kuenftig SDK > 48 nicht mehr verfuegbar sein\r\n*     eine Migration nach Deeplinking scheitert in kombination mit AzureAD wieder am Umleitungs-URI\r\n*/\r\n\t\tconst options = {\r\n\t\t\t\tauthUrl: \"https://login.microsoftonline.com/a0225615-7f89-4786-a96e-2bd64c8db5c7/oauth2/v2.0/authorize\",\r\n\t\t\t\t// returnUrl: \"\",\r\n\t\t\t\tprojectNameForProxy: \"@pwsimon/expo-azuread/start\"\r\n\t\t\t}; // [AuthSession.startAsync(options)](https://docs.expo.dev/versions/latest/sdk/auth-session/#authsessionstartasyncoptions)\r\n\t\tstartAsync(options)\r\n\t\t\t.then(authSessionResult => { // [Type AuthSessionResult](https://docs.expo.dev/versions/latest/sdk/auth-session/#authsessionresult)\r\n\t\t\t\t\tconsole.log(\"returned: (type)\", authSessionResult.type);\r\n\t\t\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t\t<View>\r\n\t\t\t\t<Text>URL: {Linking.createURL(\"\")}</Text>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tdisabled={!request || !bNeedsUserInteraction}\r\n\t\t\t\t\ttitle=\"Login\"\r\n\t\t\t\t\tonPress={(e) => { authenticate() }}>\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tdisabled={!discoveryDoc}\r\n\t\t\t\t\ttitle=\"Logout\"\r\n\t\t\t\t\tonPress={e => { logoff() }}>\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tdisable={!session}\r\n\t\t\t\t\ttitle=\"Available\"\r\n\t\t\t\t\tonPress={(e) => { setNotAbsent() }}>\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tdisable={!session}\r\n\t\t\t\t\ttitle=\"Absent\"\r\n\t\t\t\t\tonPress={(e) => { setOutOfOffice() }}>\r\n\t\t\t\t</Button>\r\n\t\t\t\t<StatusBar></StatusBar>\r\n\t\t\t</View>\r\n\t\t);\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n});\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t179: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkweb\"] = self[\"webpackChunkweb\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [801], () => (__webpack_require__(9484)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["App","makeRedirectUriOptions","path","scheme","requestConfig","clientId","scopes","responseType","ResponseType","IdToken","extraParams","nonce","redirectUri","makeRedirectUri","discoveryDoc","useAutoDiscovery","React","checkNoUserInteraction","_useAuthRequest","useAuthRequest","_useAuthRequest2","_slicedToArray","request","response","promptAsync","console","log","type","oTR","TokenResponse","fromQueryParams","params","access_token","iNetLoginAsync","idToken","then","oWebSocket","webSocket","current","SetNeedsUserInteraction","catch","e","Linking","url","_React$useState","_React$useState2","session","SetSession","sUCControllerUrl","sUCSID","mapRR","sToken","sOrigin","assert","length","fetch","json","oDiscover","redirect","oInit","method","headers","Authorization","body","JSON","stringify","negotiate","iClientProtocolVersion","oSession","sWSOrigin3","sessionid","replace","Promise","resolve","reject","WebSocket","addEventListener","event","createInvokeID","sId","Math","random","toString","substr","parseInt","wssSend","sOperation","oArg","fnFulfilled","fnRejected","oFrame","invoke","invokeID","operationName","oCBs","argument","_type","send","window","_React$useState3","_React$useState4","bNeedsUserInteraction","ePrompt","prompt","AuthRequest","getIdTokenAsync","Prompt","None","authSessionResult","Error","error","message","_jsxs","View","children","Text","_jsx","Button","disabled","title","onPress","endSessionEndpoint","disable","OPEN","readyState","oAbsentStateSetUser","absentstate","u8sContactId","ownContact","u8sUsername","stTimeFrom","stTimeTo","iAbsentState","u8sMessage","u8sAbsentReason","iPresenceState","setNotAbsent","setOutOfOffice","StatusBar","WebBrowser","StyleSheet","create","container","flex","backgroundColor","alignItems","justifyContent","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","id","loaded","__webpack_modules__","call","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","Object","keys","every","key","splice","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","g","globalThis","this","Function","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","value","nmd","paths","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","some","chunkLoadingGlobal","self","forEach","bind","push","__webpack_exports__"],"sourceRoot":""}